
<!-- COMMITTEE HOME -->

<section class="row">
	<div class="col-xl-12 col-lg-12 col-md-12 col-sm-12 col-12">
		<div class="row">
			<div class="col-xl-6 col-lg-6 col-md-6 col-sm-12 col-12">
				<div class="borderBox col-12">
					<h4 class="borderBoxHeading">
						Details
						<button class="editBtn" *ngIf="editDetails ==false"
							(click)="showEditDetails()">
							<i class="fa fa-pencil"></i>
						</button>
						<button class="addBtn" *ngIf="editDetails" (click)="saveDetails()">
							<i class="fa fa-floppy-o"></i>
						</button>
						<button class="editBtn" *ngIf="editDetails"
							(click)="cancelEditDetails()">
							<i class="fa fa-times"></i>
						</button>
					</h4>
					<div class="pullSide">
						<table class="table tableSkin grid2">
							<tbody>
								<tr>
									<td><label> Review Type</label><br> <span
										*ngIf="editDetails != false"> <select
											[(ngModel)]="result.committee.reviewTypeDescription"
											name="Select Type" [disabled]="editDetails==false"
											[ngClass]="editClass">
												<option selected="select">Select</option>
												<option *ngFor="let type of result.reviewTypes">{{type.description}}</option>
										</select>
									</span> <span *ngIf="editDetails == false"> <input type="text"
											[disabled]="editDetails==false" [ngClass]="editClass"
											[(ngModel)]="result.committee.reviewTypeDescription">
									</span></td>
									<td colspan="2"><label>Description</label><br> <input
										type="text" [disabled]="editDetails==false"
										[ngClass]="editClass"
										[(ngModel)]="result.committee.description"></td>

									<!--  <td ><label>Schedule Description</label><br>Meets monthly</td> -->

								</tr>
								<tr>
									<td><label>Min Members for Quorum</label><br> <input
										type="number" [disabled]="editDetails==false" min="1"
										[ngClass]="editClass"
										[(ngModel)]="result.committee.minimumMembersRequired" /></td>
									<td><label> Adv Submission Days</label><br> <input
										type="number" [disabled]="editDetails==false" min="1"
										[ngClass]="editClass"
										[(ngModel)]="result.committee.advSubmissionDaysReq" /></td>
									<td><label> Maximum Protocols</label><br> <input
										type="number" [disabled]="editDetails==false" min="1"
										[ngClass]="editClass"
										[(ngModel)]="result.committee.maxProtocols" /></td>
								</tr>
								<tr *ngIf="errorFlag">
									<td><span>{{error}}</span></td>
								</tr>
							</tbody>
						</table>

					</div>
				</div>
			</div>

			<div class=" col-xl-6 col-lg-6 col-md-6 col-sm-12 col-12">
				<div class="borderBox col-12">
					<h4 class="borderBoxHeading ">
						Area of Research
						<button id="areaOfResearchAddBtn" class="addBtn"
							(click)="showaddAreaOfResearch()">
							<i class="fa fa-plus"></i>
						</button>
						<button class="editBtn"
							*ngIf="showSaveAreaOfResearch || deleteResearch"
							(click)="saveAreaOfResearch()">
							<i class="fa fa-floppy-o"></i>
						</button>
					</h4>
					<div class="pullSide">
						<table class="table table-responsive tableSkin ">
							<tr id="addAreaOfResearchRow"
								*ngIf="addResearch && saveCommitteeFlag">
								<td>Area of Research</td>
								<td>
									<div>
										<ng2-completer title="Add area of research"
											[inputClass]="completerID"
											[(ngModel)]="areaInput.researchAreaDescription"
											[datasource]="areaList" [minSearchLength]="0"
											(ngModelChange)="areaChangeFunction(areaInput)"
											(selected)="onAreaSelect()"></ng2-completer>
									</div>
								</td>
								<td>
									<button class="btnSkin btnSkinPrimary"
										(click)="addAreaOfResearch(areaInput)">Add</button>
								</td>
							</tr>
							<tr>
								<th title="">Sl No</th>
								<th title="">Research Area Code</th>
								<th title="">Code/Description</th>
								<th title="" *ngIf="addResearch && saveCommitteeFlag">Action</th>

							</tr>
							<tr
								*ngFor="let area of result.committee.researchAreas; let i=index">
								<td><input type="text" class="committeeBoxNotEditable"
									value="{{i+1}}" /></td>
								<td><input type="text" class="committeeBoxNotEditable"
									value="{{ area.researchAreaCode}}" /></td>
								<td><input type="text" class="committeeBoxNotEditable"
									value="{{ area.researchAreaDescription }}" /></td>
								<td>
									<ul class="actionButtonGroup">
										<li><a href="#"
											(click)="deleteAreaOfResearch($event,area.commResearchAreasId,area.researchAreaCode)"><i
												class="fa fa-trash-o" aria-hidden="true" *ngIf="addResearch"></i></a></li>
									</ul>
								</td>
							</tr>
							<!-- 
            <tr *ngIf="mode=='create'">
               <td> No Data found!</td>
            </tr> -->
						</table>
					</div>
				</div>
			</div>


			<div class="container-fluid">
				<div class="borderBox col-12">

					<h4 class="borderBoxHeading">
						Schedule
						<button class="editBtn" (click)="showSchedulePopUp()"
							data-toggle="modal" data-target="#exampleModalCenter"
							style="position: static; float: right;">
							<i class="fa fa-plus">&nbsp;Generate Schedule</i>
						</button>
						<!-- Generate Schedules -->

					</h4>
					<div class="pullSide">
						<table class="table table-responsive tableSkin">
							<tr class="scheduleFilterBoxes">
								<td class="noDataOnChart">From :</td>
								<td><input type="text" class="committeeBox"></td>
								<td class="noDataOnChart">To :</td>
								<td><input type="text" class="committeeBox"></td>
							</tr>
							<tr>
								<th title="Click to sort by Proposal">Sl No</th>
								<th title="Click to sort by Title">Schedule Date</th>
								<th title="Click to sort by Lead Unit">Day of Week</th>
								<th title="Click to sort by Sponsor">Deadline</th>
								<th title="Click to sort by Deadline">Status</th>
								<th title="Click to sort by Status">Place</th>
								<th title="Click to sort by Status">Time</th>
								<th title="Click to sort by Status">Action</th>
							</tr>
							<tr
								*ngFor="let committeScheduleData of committeeData.committee.committeeSchedules; let i = index">
								<td>{{ i + 1 }}</td>
								<td><input type="text"
									[ngClass]="(editSchedule[i] == true)? 'committeeBox' : 'committeeBoxNotEditable'"
									[disabled]="editSchedule[i] == false"
									[(ngModel)]="committeScheduleData.scheduledDate"></td>
								<td>{{ committeScheduleData.dayOfWeek }}</td>
								<td>{{ committeScheduleData.protocolSubDeadline }}</td>
								<td>{{ committeScheduleData.scheduleStatus.description }}</td>
								<td><input type="text"
									[ngClass]="(editSchedule[i] == true)? 'committeeBox' : 'committeeBoxNotEditable'"
									[disabled]="editSchedule[i] == false"
									[(ngModel)]="committeScheduleData.place"></td>
								<td>{{ committeScheduleData.time | date:'shortTime' }}</td>
								<td>
									<ul class="actionButtonGroup">
										<li><a title="Open" *ngIf="!editSchedule[i] == true"
											href="#" routerLink='/schedule'><i class="fa fa-eye"></i></a></li>
										<li><a href="#" *ngIf="!editSchedule[i] == true"
											(click)="editScheduleData($event, i)"><i
												class="fa fa-pencil-square-o" aria-hidden="true"></i></a></li>
										<li><a href="#" *ngIf="!editSchedule[i] == true"
											(click)="deleteScheduleData($event, committeScheduleData.scheduleId)"><i
												class="fa fa-trash-o" aria-hidden="true"></i></a></li>
										<li><a href="#" *ngIf="!editSchedule[i] == false"
											(click)="updateScheduleData($event, i)"><i
												class="fa fa-floppy-o" aria-hidden="true"></i></a></li>
										<li><a href="#" *ngIf="!editSchedule[i] == false"
											(click)="cancelEditSchedule($event, i)"><i
												class="fa fa-times" aria-hidden="true"></i></a></li>
									</ul>
								</td>
							</tr>
						</table>
					</div>
				</div>
			</div>

			<!-- code starts -->
			<!-- Modal for generate schedule-->
			<div class="modal fade mySkinDialog modalFallBack"
				*ngIf="showGenerateSchedule && saveCommitteeFlag"
				id="exampleModalCenter" tabindex="-1" role="dialog"
				aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
				<div class="modal-dialog modal-lg modal-dialog-centered"
					role="document">
					<div class="modal-content">
						<div class="modal-header">
							<h5 class="modal-title" id="exampleModalLongTitle">Generate
								Schedule</h5>
							<button type="button" class="close" data-dismiss="modal"
								aria-label="Close">
								<span aria-hidden="true">&times;</span>
							</button>
						</div>
						<div class="modal-body">
							<div class="inputTxtCover">
								<div class="row">
									<div class="col-xl-4 col-lg-4 col-md-4 col-sm-12 col-12">
										<label>Date</label><input type="date"
											[(ngModel)]="result.scheduleData.scheduleStartDate" />
									</div>
									<div class="col-xl-4 col-lg-4 col-md-4 col-sm-12 col-12">
										<label>Start Time</label><input type="text"
											[(ngModel)]="result.scheduleData.time.time" />
									</div>
									<div class="col-xl-4 col-lg-4 col-md-4 col-sm-12 col-12">
										<label>Place</label><input type="text"
											[(ngModel)]="result.scheduleData.place" />
									</div>
								</div>
								<br>
								<div>
									<ul class="nav nav-tabs tabsIcon" id="myTab" role="tablist">
										<li class="nav-item"><a class="nav-link active"
											id="home-tab" data-toggle="tab" href="#Daily" role="tab"
											aria-controls="home" aria-selected="true"
											(click)="showTab('DAILY')">Daily</a></li>
										<li class="nav-item"><a class="nav-link" id="profile-tab"
											data-toggle="tab" href="#Weekly" role="tab"
											aria-controls="profile" aria-selected="false"
											(click)="showTab('WEEKLY')">Weekly</a></li>
										<li class="nav-item"><a class="nav-link" id="contact-tab"
											data-toggle="tab" href="#Monthly" role="tab"
											aria-controls="contact" aria-selected="false"
											(click)="showTab('MONTHLY')">Monthly</a></li>
										<li class="nav-item"><a class="nav-link" id="contact-tab"
											data-toggle="tab" href="#Yearly" role="tab"
											aria-controls="contact" aria-selected="false"
											(click)="showTab('YEARLY')">Yearly</a></li>
										<li class="nav-item"><a class="nav-link" id="contact-tab"
											data-toggle="tab" href="#Never" role="tab"
											aria-controls="contact" aria-selected="false"
											(click)="showTab('NEVER')">Never</a></li>
									</ul>
									<div class="tab-content" id="myTabContent">
										<div class="tab-pane fade show active" id="Daily"
											role="tabpanel" aria-labelledby="home-tab">
											<div class="tabCover">
												<ul class="tablelayout">
													<li><input type="radio" name="dayOption" value="XDAY"
														[(ngModel)]="optionDay" (click)="sentDayOption()" checked />
														Every</li>
													<li><input type="text"
														[(ngModel)]="result.scheduleData.dailySchedule.day" /></li>
													<li>day(s)</li>
													<li><input type="radio" name="dayOption"
														value="WEEKDAY" [(ngModel)]="optionDay"
														(click)="sentDayOption()" /> Every Weekday</li>
												</ul>
												<ul class="tablelayout">
													<li>
														<table>
															<tr>
																<td>Ending on</td>
																<td><input type="date"
																	[(ngModel)]="result.scheduleData.dailySchedule.scheduleEndDate" /></td>
															</tr>
														</table>
													</li>
												</ul>
											</div>
										</div>
										<div class="tab-pane fade" id="Weekly" role="tabpanel"
											aria-labelledby="profile-tab">
											<div class="tabCover">
												<ul class="tablelayout">
													<li><input type="radio" /> Every</li>
													<li><select><option>January</option>
															<option>Feburary</option></select></li>
													<li><input type="text" /></li>
													<li>of every</li>
													<li><input type="text" /></li>
													<li>year(s)</li>
												</ul>
												<ul class="tablelayout">
													<li><input type="checkbox" /> Sunday</li>
													<li><input type="checkbox" /> Monday</li>
													<li><input type="checkbox" /> Tuesday</li>
													<li><input type="checkbox" /> Wednesday</li>
													<li><input type="checkbox" /> Thursday</li>
													<li><input type="checkbox" /> Friday</li>
												</ul>
												<ul class="tablelayout">
													<li>
														<table>
															<tr>
																<td>Ending on</td>
																<td><input type="text" /></td>
															</tr>
														</table>
													</li>
												</ul>
											</div>

										</div>
										<div class="tab-pane fade" id="Monthly" role="tabpanel"
											aria-labelledby="contact-tab">
											<div class="tabCover">
												<ul class="tablelayout">
													<li><input type="radio" /> Day</li>
													<li><input type="text" /></li>
													<li>of every</li>
													<li><input type="text" /></li>
													<li>month(s)</li>
												</ul>
												<ul class="tablelayout">
													<li><input type="radio" /> The</li>
													<li><select><option>First</option>
															<option>second</option>
															<option>third</option>
															<option>fourth</option>
															<option>last</option></select></li>
													<li><select><option>Monday</option>
															<option>Tuesday</option>
															<option>Wednesday</option>
															<option>Thrusday</option>
															<option>Friday</option></select></li>
													<li>of every</li>
													<li><input type="text" /></li>
													<li>month(s)</li>
												</ul>
												<ul class="tablelayout">
													<li>
														<table>
															<tr>
																<td>Ending on</td>
																<td><input type="text" /></td>
															</tr>
														</table>
													</li>
												</ul>
											</div>
										</div>
										<div class="tab-pane fade" id="Yearly" role="tabpanel"
											aria-labelledby="contact-tab">
											<div class="tabCover">
												<ul class="tablelayout">
													<li><input type="radio" /> Every</li>
													<li><select><option>January</option>
															<option>Feburary</option></select></li>
													<li><input type="text" /></li>
													<li>of every</li>
													<li><input type="text" /></li>
													<li>year(s)</li>
												</ul>
												<ul class="tablelayout">
													<li><input type="radio" /> The</li>
													<li><select><option>First</option>
															<option>Monday</option></select></li>
													<li><select><option>Monday</option>
															<option>Monday</option></select></li>
													<li>of</li>
													<li><select><option>January</option>
															<option>Monday</option></select></li>
													<li>of every</li>
													<li><input type="text" /></li>
													<li>year(s)</li>
												</ul>
												<ul class="tablelayout">
													<li>
														<table>
															<tr>
																<td>Ending on</td>
																<td><input type="text" /></td>
															</tr>
														</table>
													</li>
												</ul>
											</div>
										</div>
										<div class="tab-pane fade" id="Never" role="tabpanel"
											aria-labelledby="contact-tab">
											<div class="tabCover">
												<ul class="tablelayout">
													<li>Do not repeat this event.</li>
												</ul>
											</div>
										</div>
									</div>
								</div>
							</div>
						</div>
						<div class="modal-footer">
							<button type="button" class="btnSkin btn-secondary"
								data-dismiss="modal">Close</button>
							<button type="button" class="btnSkin btnSkinPrimary"
								(click)="generateSchedule()" data-dismiss="modal">Save
								changes</button>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
</section>
